<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Opensgn-easy project : Necessary files and documentation for easily building native GNU/Linux system for Samsung Galaxy Note 10.1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" media="screen" href="css/stylesheet.css">
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="css/prettify.css" rel="stylesheet">

    <title>OpenSGN-easy project</title>
  </head>

  <body>
    <div class="container-narrow">
      <!-- HEADER -->    
      <div class="masthead">
        <a id="forkme_banner" href="https://github.com/thermatk/opensgn-easy">View on GitHub</a>

        <h3 id="project_title" class="muted">OpenSGN-easy project</h1>
        <hr>
        <p class="lead text-center">Necessary files and documentation for easily building native GNU/Linux system for Samsung Galaxy Note 10.1</p> 
      </div>


      <!-- MAIN CONTENT -->
      <div id="main_content_wrap">
        <section id="main_content">
            <h3>Welcome to Opensgn-easy.</h3>
            <p>Perhaps, you are searching for instructions. <a href="#instructions">Here they are</a>!</p>

            <h3>Authors and Contributors</h3>
            <p>Original project was created by exception13 (<a href="http://code.google.com/p/opensgn/">opensgn</a>), some modifications added by <a href="https://github.com/X-Stranger">@X-Stranger</a> (<a href="https://github.com/X-Stranger/N8000">N8000</a>) and this very easy instruction is being written by <a href="https://github.com/thermatk">@thermatk</a>.</p>

            <h3>Support or Contact</h3>
            <p>Having trouble? Visit the topic on <a href="http://forum.xda-developers.com/showthread.php?p=39622960">XDA-Developers!</a> or <a href="http://4pda.ru/forum/index.php?showtopic=446573">4PDA</a></p>

            <h1 id="instructions">Instruction</h1>

            <h2>Prerequisites</h2>
            <ul>
            <li>Samsung Galaxy Note 10.1 with root, BusyBox, terminal emulator app and some free space</li>
            <li>A real or virtual PC with your favorite GNU/Linux distro and some free space</li>
            <li>Some free time</li>
            </ul>

            <h2>Easy way - using prepared binaries</h2>
            <div class="alert">
              <strong>Warning!</strong> Section is not ready yet.
            </div>
            <ol>
            <li>Download recovery.img: <span class="label label-warning">DOWNLOAD LINK SHOULD BE HERE</span>
            </li>
            <li>Download ubuntu.img: <span class="label label-warning">DOWNLOAD LINK SHOULD BE HERE</span>
            </li>
            <li>Unpack the files from archives and place them to root of your internal sdcard. Go to your preffered terminal emulator app and type:
<pre class="prettyprint linenums">
su
dd if=recovery.img of=/dev/block/mmcblk0p6</pre>
            </li>
            </ol>
            <p>Now you can turn off your tablet and boot up GNU/Linux by holding Volume Up and Power buttons.</p>

            <h2>Harder way - how to prepare binaries</h2>
            Choose where you want to place your native GNU/Linux to adapt the guide:
            <ul class="nav nav-tabs" id="notelocatTab">
              <li class="active"><a href="#img_file" data-toggle="tab" data-target=".imgfile-tab">A linux.img file<span class="label label-warning">not ready</span></a></li>
              <li><a href="#partition" data-toggle="tab" data-target=".partition-tab">Separate partition<span class="label label-warning">not ready</span></a></li>
            </ul>
            <h3>Compile kernel</h3>
            <ol>
            <li>Choose distro on your PC to adapt the guide:
              <ul class="nav nav-tabs" id="pcosTab">
                <li class="active"><a href="#deb" data-toggle="tab" data-target=".deb-tab">Debian or Ubuntu</a></li>
                <li><a href="#arch" data-toggle="tab" data-target=".arch-tab">Arch<span class="label label-warning">not ready</span></a></li>
              </ul>
            </li>
            <li>Boot up your GNU/Linux PC</li>
            <li>Install packages necessary for building:
              <div class="alert alert-info">
              You have to do this step only once on a PC
              </div>
              <div class="tab-content">
                <div class="tab-pane deb-tab active">
                  <pre>sudo apt-get install git build-essential libncurses5-dev</pre>
                </div>
                <div class="tab-pane arch-tab">
                  <div class="alert">
                    <strong>Warning!</strong> Section is not ready yet.
                  </div>                  
                  <pre>sudo pacman -S <span class="label label-warning">help needed</span></pre>
                </div>
              </div>
                        
            </li>
            <li>Now create a folder and clone the repository with kernel sources there:
              <div class="alert alert-info">
              Currently using X-Stranger's repo.
              </div>
<pre class="prettyprint linenums">mkdir compileopensgn
cd compileopensgn/
git clone https://github.com/X-Stranger/N8000.git -b arch</pre>
            </li>

            <li>Clone the prebuilt toolchain to the same folder and move it to /opt:
              <div class="alert alert-info">
              You have to do this step only once on a PC
              </div>
<pre class="prettyprint linenums">git clone https://android.googlesource.com/platform/prebuilt
sudo mv prebuilt/linux-x86/toolchain/arm-eabi-4.4.3/ /opt/
rm -r prebuilt</pre>
            </li>
            <li>Now go to the downloaded kernel and configure it:
<pre class="prettyprint linenums">cd N8000
make mrproper
export CROSS_COMPILE=/opt/arm-eabi-4.4.3/bin/arm-eabi-
export ARCH=arm
export SUBARCH=armv7h
make n8000_linux_mali_defconfig</pre>
            </li>
            <li>Configure kernel to make it bootable:
              <div class="tab-content">
                <div class="tab-pane imgfile-tab active">
                  <div class="alert">
                    <strong>Warning!</strong> Section about linux.img file is not ready yet. Choose installation to a separate partition :)
                  </div>      
                  <pre><span class="label label-warning">help needed</span></pre>
                </div>

                <div class="tab-pane partition-tab">
                  <div class="alert">
                    <strong>Warning!</strong> Section not ready yet? Or ready?
                  </div> 
                  <pre>make menuconfig</pre>
                  Go to "Boot options" and change kernel commandline to look like
                  <pre>root=/dev/mmcblkXpY ro rootfstype=ext4 rootwait quiet vmalloc=144M</pre>
                  where X is the number of the block device (0 - internal sdcard, 1 - external sdcard) and Y is the number of partition.
                  <a href="#repartition">In case you don't know how to create a separate partition</a>
                </div>

              </div>
            </li>
            <li>Compile kernel:
<pre class="prettyprint linenums">export INSTALL_MOD_PATH=$(pwd)/compiledmodules
make -j2
make modules_install
rm compiledmodules/lib/modules/3.0.31*/source
rm compiledmodules/lib/modules/3.0.31*/build</pre>
            </li>
            <li>Copy compiled kernel and modules to a folder:
<pre class="prettyprint linenums">cd ..
mkdir results
mkdir results/boot/
cp N8000/arch/arm/boot/zImage results/boot/zImage
cp N8000/System.map results/boot/System.map
cp N8000/.config results/boot/config-`ls N8000/compiledmodules/lib/modules/`
cp -r N8000/compiledmodules/lib/ results/
rm -r N8000/compiledmodules</pre>
            </li>
            <li>Transfer the "results" folder to the root of your internal sdcard with any instrument you like.
            </li>
            </ol>
            <h3>Create rootfs</h3>
            <ol>
            <li>Get <a href="https://play.google.com/store/apps/details?id=ru.meefik.linuxdeploy">LinuxDeploy</a> and apply these settings:

              <div class="tab-content">
                <div class="tab-pane deb-tab active">                  
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>Parameter</th>
                        <th>Value</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>Distribution</td>
                        <td>Debian or Ubuntu</td>
                      </tr>
                      <tr>
                        <td>Distribution suite</td>
                        <td>wheezy for Debian and quantal for Ubuntu</td>
                      </tr>
                      <tr>
                        <td>Architecture</td>
                        <td>armhf</td>
                      </tr>
                      <tr>
                        <td>Installation type</td>
                        <td>
                          <div class="tab-content">
                            <div class="tab-pane imgfile-tab active">
                              Image file
                            </div>

                            <div class="tab-pane partition-tab">
                              Disk partition
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>Installation path</td>
                        <td>
                          <div class="tab-content">
                            <div class="tab-pane imgfile-tab active">
                              path to linux.img. For example, <pre>/mnt/sdcard/linux.img</pre>
                            </div>

                            <div class="tab-pane partition-tab">
                              <pre>/dev/block/mmcblkXpY</pre> where X is the number of the block device (0 - internal sdcard, 1 - external sdcard) and Y is the number of partition.
                              <div class="alert">
                                <strong>Warning!</strong> Known to be somehow different in CyanogenMod. Needs explanation.
                              </div>                               
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>File system</td>
                        <td>ext4</td>
                      </tr>
                      <tr>
                        <td>Install GUI</td>
                        <td>no</td>
                      </tr>
                      <tr>
                        <td>SSH</td>
                        <td>yes</td>
                      </tr>
                      <tr>
                        <td>VNC</td>
                        <td>no</td>
                      </tr>
                      <tr>
                        <td>Custom mount</td>
                        <td>/mnt/sdcard</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="tab-pane arch-tab">
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>Parameter</th>
                        <th>Value</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>Distribution</td>
                        <td>ArchLinux</td>
                      </tr>
                      <tr>
                        <td>Architecture</td>
                        <td>armv7h</td>
                      </tr>
                      <tr>
                        <td>Installation type</td>
                        <td>
                          <div class="tab-content">
                            <div class="tab-pane imgfile-tab active">
                              Image file
                            </div>

                            <div class="tab-pane partition-tab">
                              Disk partition
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>Installation path</td>
                        <td>
                          <div class="tab-content">
                            <div class="tab-pane imgfile-tab active">
                              path to linux.img. For example, <pre>/mnt/sdcard/linux.img</pre>
                            </div>

                            <div class="tab-pane partition-tab">
                              <pre>/dev/block/mmcblkXpY</pre> where X is the number of the block device (0 - internal sdcard, 1 - external sdcard) and Y is the number of partition.
                              <div class="alert">
                                <strong>Warning!</strong> Known to be somehow different in CyanogenMod. Needs explanation.
                              </div>                               
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>File system</td>
                        <td>ext4</td>
                      </tr>
                      <tr>
                        <td>Install GUI</td>
                        <td>no</td>
                      </tr>
                      <tr>
                        <td>SSH</td>
                        <td>yes</td>
                      </tr>
                      <tr>
                        <td>VNC</td>
                        <td>no</td>
                      </tr>
                      <tr>
                        <td>Custom mount</td>
                        <td>/mnt/sdcard</td>
                      </tr>
                    </tbody>
                  </table>
              </div>

            </li>
            <li>Install GNU/Linux in LinuxDeploy</li>
            <li>Start GNU/Linux in LinuxDeploy</li>
            <li>Copy the files prepared on previous step from internal sdcard to the chrooted Linux. In your terminal emulator app type:
<pre class="prettyprint linenums">/data/local/linux/bin/linuxdeploy shell
cp -r /mnt/sdcard/results/boot /
cp -r /mnt/sdcard/results/lib/modules /lib/
</pre>
            </li>
            <li>Create bootable recovery and flash it:
              <div class="tab-content">
                <div class="tab-pane deb-tab active">
                  <div class="alert">
                    <strong>Warning!</strong> Section is not ready yet.
                  </div>
<pre class="prettyprint linenums">apt-get update
apt-get install abootimg
mkinitramfs <span class="label label-warning">help needed, is specific to the installation path</span>
abootimg <span class="label label-warning">help needed</span>
dd if=/boot/recovery.img of=/dev/block/mmcblk0p6</pre>
                </div>
                <div class="tab-pane arch-tab">
                  <div class="alert">
                    <strong>Warning!</strong> Section is not ready yet.
                  </div>                  
<pre>pacman -S mkinitcpio<span class="label label-warning">help needed</span>
mkinitrcpio <span class="label label-warning">help needed, is specific to the installation path</span>
abootimg <span class="label label-warning">help needed</span>
dd if=/boot/recovery.img of=/dev/block/mmcblk0p6</pre>
                </div>
              </div>
            </li>
            <li>Install basic device drivers, settings and desktop environments:
                <div class="tab-pane deb-tab active">
                  <div class="alert">
                    <strong>Warning!</strong> Section is not ready yet.
                  </div>
<pre class="prettyprint linenums">apt-get install xserver-xorg-video-fbdev xserver-xorg-input-evdev <span class="label label-warning">help needed</span>
</pre>
                </div>
                <div class="tab-pane arch-tab">
                  <div class="alert">
                    <strong>Warning!</strong> Section is not ready yet.
                  </div>                  
<pre>pacman -S xserver-xorg-video-fbdev xserver-xorg-input-evdev <span class="label label-warning">help needed</span></pre>
                </div>
              </div>
            </li>
            <li>Now you can turn off your tablet and boot up GNU/Linux by holding Volume Up and Power buttons!
            </ol>
            <h3>Post-installation tweaks</h3>
              <div class="alert">
                <strong>Warning!</strong> Section is not ready yet.
              </div>
              <h4>X.Org driver for Mali</h4>
              <h4>Florence with haptic feedback</h4>
              <h4>ALSA</h4>

            <h2>Notes</h2>
            <h3 id="repartition">Partitioning</h3>
            <div class="alert">
              <strong>Warning!</strong> Section is not ready yet.
            </div>
            To create a partition on your internal sdcard you should: <span class="label label-warning">help needed</span>
            At the same time, it's easy to make a partition for linux on external sdcard - just put it into your PC through card-reader and make one as many partitions as you want including one for GNU/Linux. Do not forget the number of the partition you created! In case you forgot and your prepared sdcard is already in tablet open Terminal Emulator and type:
<pre class="prettyprint linenums">su
fdisk -l /dev/block/mmcblk1</pre>
        </section>
      </div>


      <hr>
      <!-- FOOTER  -->
      <footer class="footer">
      <div id="footer" class="container">
          <p class="copyright">Opensgn-easy project maintained by <a href="https://github.com/thermatk">thermatk</a></p>
      </div>
      </footer>

    </div>
          <script src="http://code.jquery.com/jquery.js"></script>
          <script src="js/bootstrap.min.js"></script>
          <script src="js/prettify.js"></script>
          <script>
            !function ($) {
              $(function(){
                window.prettyPrint && prettyPrint()   
              })
            }(window.jQuery)

            $('#pcosTab a').click(function (e) {
                e.preventDefault();
                $(this).tab('show');
            });
            $('#notelocatTab a').click(function (e) {
                e.preventDefault();
                $(this).tab('show');
            });
          </script>


          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-39539447-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
